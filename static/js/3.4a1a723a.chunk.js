(this["webpackJsonpmy-firs-react-project"]=this["webpackJsonpmy-firs-react-project"]||[]).push([[3],{292:function(t,e,s){"use strict";s.d(e,"a",(function(){return l}));var n=s(3),c=s(36),o=s(37),r=s(39),i=s(38),a=s(10),u=s(0),j=s.n(u),p=s(12),b=s(1),d=function(t){return{isAuth:t.auth.isAuth}},l=function(t){var e=function(e){Object(r.a)(u,e);var s=Object(i.a)(u);function u(){return Object(c.a)(this,u),s.apply(this,arguments)}return Object(o.a)(u,[{key:"render",value:function(){return this.props.isAuth?Object(b.jsx)(t,Object(n.a)({},this.props)):Object(b.jsx)(a.a,{to:"/login"})}}]),u}(j.a.Component);return Object(p.b)(d)(e)}},293:function(t,e,s){t.exports={postsBlock:"MyPosts_postsBlock__2Wbrx",posts:"MyPosts_posts__2UHx2"}},294:function(t,e,s){t.exports={item:"Post_item__3boTk"}},295:function(t,e,s){},296:function(t,e,s){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3x_mK"}},297:function(t,e,s){"use strict";s.r(e);var n=s(3),c=s(36),o=s(37),r=s(39),i=s(38),a=s(0),u=s.n(a),j=s(12),p=s(96),b=s(293),d=s.n(b),l=s(294),f=s.n(l),O=s(1),h=function(t){return Object(O.jsxs)("div",{className:f.a.item,children:[Object(O.jsx)("img",{src:""}),t.massage,Object(O.jsx)("div",{children:Object(O.jsxs)("span",{children:["like ",t.likesCount]})})]})},x=s(89),m=s(127),v=s(86),g=s(32),P=Object(v.a)(10),k=u.a.memo((function(t){var e=t.posts.map((function(t){return Object(O.jsx)(h,{massage:t.massage,likesCount:t.likes_count})}));return Object(O.jsxs)("div",{className:d.a.postsBlock,children:[Object(O.jsx)("h3",{children:"My post"}),Object(O.jsx)(S,{onSubmit:function(e){t.addPost(e.newPostText)}}),Object(O.jsx)("div",{className:d.a.posts,children:e})]})})),S=Object(m.a)({form:"ProfileAddNewPostForm"})((function(t){return Object(O.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(O.jsx)("div",{children:Object(O.jsx)(x.a,{name:"newPostText",component:g.b,validate:[v.b,P],placeholder:"Post massage"})}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{children:"Add post"})})]})})),_=k,y=Object(j.b)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t(Object(p.a)(e))}}}))(_),w=(s(295),s(296)),A=s.n(w),B=s(67),C=s(128),T=function(t){var e=Object(a.useState)(!1),s=Object(C.a)(e,2),n=s[0],c=s[1],o=Object(a.useState)(t.status),r=Object(C.a)(o,2),i=r[0],u=r[1];Object(a.useEffect)((function(){u(t.status)}),[t.status]);return Object(O.jsxs)("div",{children:[!n&&Object(O.jsx)("div",{children:Object(O.jsx)("span",{onDoubleClick:function(){c(!0)},children:t.status||"!!!-----"})}),n&&Object(O.jsx)("div",{children:Object(O.jsx)("input",{onChange:function(t){u(t.currentTarget.value)},autoFocus:!0,onBlur:function(){c(!1),t.updateStatus(i)},value:i})})]})},I=function(t){var e=t.profile,s=t.status,n=t.updateStatus;return e?Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:A.a.descriptionBlock,children:[Object(O.jsx)("img",{src:e.photos.large}),Object(O.jsx)(T,{status:s,updateStatus:n})]})}):Object(O.jsx)(B.a,{})},N=function(t){return Object(O.jsxs)("div",{children:[Object(O.jsx)(I,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),Object(O.jsx)(y,{})]})},U=s(10),M=s(292),D=s(8),F=function(t){Object(r.a)(s,t);var e=Object(i.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.autorisedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return Object(O.jsx)(N,Object(n.a)(Object(n.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),s}(u.a.Component);e.default=Object(D.d)(Object(j.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,autorisedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:p.d,getStatus:p.c,updateStatus:p.e}),U.f,M.a)(F)}}]);
//# sourceMappingURL=3.4a1a723a.chunk.js.map